{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joha\\\\Desktop\\\\dcake1\\\\DreamCakeFront\\\\src\\\\components\\\\landingPage\\\\headerUpdater.jsx\";\nimport React from 'react';\nimport \"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport campana from \"../../static/images/campana.svg\";\nimport arrow from \"./flecha.png\";\nimport { Notification } from \"../notification/notification\";\nimport { Notifications } from \"./notifications/notifications\";\nimport { Register } from '../login/register';\nimport { Login } from '../login/login';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class HeaderUpdater extends React.Component {\n  constructor() {\n    super();\n\n    this.openModal = e => {\n      let mod = document.getElementById(e.target.value);\n      mod.append(\"body\");\n      console.log(e.target.value);\n    };\n\n    this.putData = e => {\n      this.setState({\n        notification: e\n      });\n    };\n\n    this.state = {\n      userInfo: null,\n      open: true,\n      open1: true,\n      notification: ''\n    }; //this.userInfo = null;\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:8000/users/api/auth/user/', {\n      method: 'GET',\n      credentials: 'include',\n      headers: {}\n    }).then(response => response.json()).then(responseJson => {\n      console.log('Esta es la info del usuario');\n      this.setState({\n        userInfo: responseJson\n      });\n      console.log(this.state.userInfo);\n    }).catch(error => console.error('Error:', error));\n  }\n\n  registrarse() {\n    window.location.pathname = \"/accounts/signup/\";\n  }\n\n  iniciarSesion() {\n    this.openModal();\n  }\n\n  render() {\n    // <Notification putData={this.putData}/> \n    //var user_name = this.state.userInfo.short_name;\n    console.log('isNull?' + this.state.userInfo == null);\n\n    if (this.state.userInfo == null || this.state.userInfo.hasOwnProperty('detail')) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-6 col-md-6 col-9 \",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"col-lg-6 col-sm6 col-6 btn btn-register \",\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#register\",\n          value: \"register\",\n          \"data-backdrop\": \"false\",\n          \"data-dismiss\": \"modal\",\n          children: \"Registrarse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"col-lg-6 col-sm6 col-6 btn btn-light\",\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#login\",\n          value: \"login\",\n          \"data-backdrop\": \"false\",\n          y: true,\n          \"data-dismiss\": \"modal\",\n          children: \"Iniciar Sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-6 col-sm-6 col-9 row justify-content-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-1 col-sm-2 col-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            type: \"button\",\n            onClick: this.n,\n            className: \"menubtn img-fluid\",\n            src: campana,\n            alt: \"notificacion\",\n            \"data-toggle\": \"collapse\",\n            \"data-target\": \"#notification\",\n            \"aria-expanded\": \"false\",\n            \"aria-controls\": \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Notifications, {\n            notifications: this.props.notifications\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-2 col-sm-4 col-4\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img-user img-fluid\",\n            src: this.state.userInfo.foto\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menubtn col-lg-4 col-sm-6 col-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \" btn badge btname-user\",\n            children: this.state.userInfo.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            type: \"select\",\n            className: \" arrow btn  badge \",\n            id: \"perfil\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              className: \"btn btn-dark\",\n              value: \"Perfil\",\n              children: \"Perfil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              className: \"btn btn-dark\",\n              value: \"Pasteles\",\n              children: \"Pasteles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              className: \"btn btn-dark\",\n              value: \"Salir\",\n              children: \"Salir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n          src: \"node_modules/jquery/dist/jquery.slim.min.js\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n          src: \"node_modules/popper.js/dist/umd/popper.min.js\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n          src: \"node_modules/bootstrap/dist/js/bootstrap.min.js\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\nexport default HeaderUpdater;","map":{"version":3,"sources":["C:/Users/joha/Desktop/dcake1/DreamCakeFront/src/components/landingPage/headerUpdater.jsx"],"names":["React","arrow","Notification","Notifications","Register","Login","HeaderUpdater","Component","constructor","openModal","e","mod","document","getElementById","target","value","append","console","log","putData","setState","notification","state","userInfo","open","open1","componentDidMount","fetch","method","credentials","headers","then","response","json","responseJson","catch","error","registrarse","window","location","pathname","iniciarSesion","render","hasOwnProperty","n","campana","props","notifications","foto","email"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport \"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\nimport campana from \"../../static/images/campana.svg\"\r\nimport arrow from \"./flecha.png\"\r\nimport { Notification } from \"../notification/notification\";\r\nimport { Notifications } from \"./notifications/notifications\"\r\nimport { Register } from '../login/register';\r\nimport { Login } from '../login/login';\r\n\r\nexport class HeaderUpdater extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            userInfo: null,\r\n            open: true,\r\n            open1: true,\r\n            notification: ''\r\n        }\r\n        //this.userInfo = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('http://localhost:8000/users/api/auth/user/', {\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers: {\r\n            },\r\n        }).then((response) => response.json())\r\n            .then(responseJson => {\r\n                console.log('Esta es la info del usuario');\r\n                this.setState({ userInfo: responseJson })\r\n                console.log(this.state.userInfo)\r\n            }\r\n            ).catch(error => console.error('Error:', error));\r\n    }\r\n\r\n    registrarse() {\r\n        window.location.pathname = \"/accounts/signup/\"\r\n    }\r\n\r\n    iniciarSesion() {\r\n        this.openModal();\r\n    }\r\n\r\n    openModal = (e) => {\r\n        let mod = document.getElementById(e.target.value);\r\n        mod.append(\"body\")\r\n        console.log(e.target.value);\r\n    };\r\n\r\n    putData = (e) => {\r\n        this.setState({ notification: e });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        // <Notification putData={this.putData}/> \r\n        //var user_name = this.state.userInfo.short_name;\r\n        console.log('isNull?' + this.state.userInfo == null);\r\n        if (this.state.userInfo == null || this.state.userInfo.hasOwnProperty('detail')) {\r\n            return (\r\n                <div className=\"col-lg-6 col-md-6 col-9 \">\r\n\r\n\r\n                    <button type=\"button\" className=\"col-lg-6 col-sm6 col-6 btn btn-register \" data-toggle=\"modal\" data-target=\"#register\" value=\"register\" data-backdrop=\"false\" data-dismiss=\"modal\" >Registrarse</button>\r\n                    <Register />\r\n\r\n\r\n                    <button type=\"button\" className=\"col-lg-6 col-sm6 col-6 btn btn-light\" data-toggle=\"modal\" data-target=\"#login\" value=\"login\" data-backdrop=\"false\" y data-dismiss=\"modal\">Iniciar Sesión</button>\r\n                    <Login />\r\n                </div>\r\n\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <div className=\"col-lg-6 col-sm-6 col-9 row justify-content-end\">\r\n\r\n                    <div className=\"col-lg-1 col-sm-2 col-2\">\r\n\r\n                        <img type=\"button\" onClick={this.n} className=\"menubtn img-fluid\" src={campana} alt=\"notificacion\" data-toggle=\"collapse\" data-target=\"#notification\" aria-expanded=\"false\" aria-controls=\"\" />\r\n\r\n                        <Notifications  notifications = {this.props.notifications}></Notifications>\r\n                    </div>\r\n                    <div className=\"col-lg-2 col-sm-4 col-4\">\r\n                        <img className=\"img-user img-fluid\" src={this.state.userInfo.foto} />\r\n                    </div>\r\n                    <div className=\"menubtn col-lg-4 col-sm-6 col-6\">\r\n                        <span className=\" btn badge btname-user\">{this.state.userInfo.email}</span>\r\n                        <select type=\"select\" className=\" arrow btn  badge \" id=\"perfil\">\r\n                            <option className=\"btn btn-dark\" value=\"Perfil\">Perfil</option>\r\n                            <option className=\"btn btn-dark\" value=\"Pasteles\">Pasteles</option>\r\n                            <option className=\"btn btn-dark\" value=\"Salir\">Salir</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <script src=\"node_modules/jquery/dist/jquery.slim.min.js\"></script>\r\n                    <script src=\"node_modules/popper.js/dist/umd/popper.min.js\"></script>\r\n                    <script src=\"node_modules/bootstrap/dist/js/bootstrap.min.js\"></script>\r\n\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\nexport default HeaderUpdater;"]},"metadata":{},"sourceType":"module"}