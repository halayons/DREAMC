{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joha\\\\Desktop\\\\dcake1\\\\DreamCakeFront\\\\src\\\\components\\\\landingPage\\\\headerUpdater.jsx\";\nimport React from 'react';\nimport \"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport campana from \"../../static/images/campana.svg\";\nimport { Notifications } from \"./notifications/notifications\";\nimport { Register } from '../login/register';\nimport { Login } from '../login/login';\nimport Cookies from 'js-cookie';\nimport logo from '../../static/images/LOGOFINALBANNER.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class HeaderUpdater extends React.Component {\n  constructor() {\n    super();\n\n    this.openModal = e => {\n      let mod = document.getElementById(e.target.value);\n      mod.append(\"body\");\n      console.log(e.target.value);\n    };\n\n    this.putData = e => {\n      this.setState({\n        notification: e\n      });\n    };\n\n    this.state = {\n      userInfo: null,\n      open: true,\n      open1: true,\n      notification: ''\n    }; //this.userInfo = null;\n  }\n\n  componentDidMount(e) {\n    fetch('http://localhost:8000/users/api/auth/user/', {\n      method: 'GET',\n      credentials: 'include',\n      headers: {}\n    }).then(response => response.json()).then(responseJson => {\n      this.setState({\n        userInfo: responseJson\n      });\n    }).catch(error => console.error('Error:', error));\n  }\n\n  registrarse() {\n    window.location.pathname = \"/accounts/signup/\";\n  }\n\n  iniciarSesion() {\n    this.openModal();\n  }\n\n  logOut(e) {\n    e.preventDefault();\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': Cookies.get('csrftoken')\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        likes: this.state.like + 1\n      })\n    };\n    fetch('http://localhost:8000/users/api/auth/logout/', requestOptions).then(res => res.json()).then(json => {\n      window.location.pathname = \"/\";\n      window.location.reload();\n    });\n  }\n\n  render() {\n    // <Notification putData={this.putData}/> \n    //var user_name = this.state.userInfo.short_name;\n    console.log('isNull?' + this.state.userInfo == null);\n\n    if (this.state.userInfo == null || this.state.userInfo.hasOwnProperty('detail')) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          class: \"navbar  navbar-dark jumbotron-header navbar-expand-md fixed-top justify-content-around \",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            class: \"navbar-brand\",\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              class: \"img-fluid rounded-circle header-logo\",\n              src: logo,\n              alt: \"logo DreamCake\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"navbar-toggler\",\n            type: \"button\",\n            \"data-toggle\": \"collapse\",\n            \"data-target\": \"#navbarSupportedContend\",\n            \"aria-controls\": \"navbarNavDropdown\",\n            \"aria-expanded\": \"false\",\n            \"aria-label\": \"Toggle navigation\",\n            children: /*#__PURE__*/_jsxDEV(\"spam\", {\n              className: \"navbar-toggler-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"collapse navbar-collapse text-center\",\n            id: \"navbarSupportedContend\",\n            children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n              class: \"navbar-nav mr-auto \",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                class: \" nav-item\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"navbarText\",\n                  href: \"/\",\n                  children: \"Inicio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 60\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                class: \" nav-item\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"navbarText\",\n                  href: \"/crearPastel/\",\n                  children: \"Crear Pastel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 60\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-principal btn-peque\\xF1o align-self-end\",\n              \"data-toggle\": \"modal\",\n              \"data-target\": \"#login\",\n              value: \"login\",\n              \"data-backdrop\": \"false\",\n              y: true,\n              \"data-dismiss\": \"modal\",\n              children: \"Iniciar Sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-secundario  btn-peque\\xF1o\",\n              \"data-toggle\": \"modal\",\n              \"data-target\": \"#register\",\n              value: \"register\",\n              \"data-backdrop\": \"false\",\n              \"data-dismiss\": \"modal\",\n              children: \"Registrarse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 16\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          class: \"navbar navbar-dark  jumbotron-header navbar-expand-md fixed-top justify-content-around  \",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            class: \"navbar-brand\",\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              class: \"img-fluid rounded-circle header-logo\",\n              src: logo,\n              alt: \"one piece\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"navbar-toggler\",\n            type: \"button\",\n            \"data-toggle\": \"collapse\",\n            \"data-target\": \"#navbarSupportedContend\",\n            \"aria-controls\": \"navbarNavDropdown\",\n            \"aria-expanded\": \"false\",\n            \"aria-label\": \"Toggle navigation\",\n            children: /*#__PURE__*/_jsxDEV(\"spam\", {\n              class: \"navbar-toggler-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"collapse navbar-collapse text-center  \",\n            id: \"navbarSupportedContend\",\n            children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n              class: \"navbar-nav mr-auto \",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                class: \" nav-item\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"navbarText\",\n                  href: \"/\",\n                  children: \"Inicio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 64\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                class: \" nav-item\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"navbarText\",\n                  href: \"/crearPastel/\",\n                  children: \"Crear Pastel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 64\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                class: \" nav-item\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"navbarText\",\n                  href: \"/social\",\n                  children: \"Posts\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 64\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                class: \" nav-item\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"navbarText\",\n                  href: \"/profile\",\n                  children: \"Perfil\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 64\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                class: \" nav-item\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"navbarText\",\n                  href: \"#\",\n                  onClick: e => this.logOut(e),\n                  children: \"Salir\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 64\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"collapse multi-collapse  fade pop-notification\",\n              id: \"notification\",\n              children: /*#__PURE__*/_jsxDEV(Notifications, {\n                notifications: this.props.notifications\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              type: \"button\",\n              className: \"campana-icon img-fluid rounded-circle\",\n              src: campana,\n              alt: \"notificacion\",\n              \"data-toggle\": \"collapse\",\n              \"data-target\": \"#notification\",\n              \"aria-expanded\": \"false\",\n              \"aria-controls\": \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/profile\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \" rounded-circle header-profile\",\n                src: this.state.userInfo.foto\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 20\n      }, this);\n    }\n  }\n\n}\nexport default HeaderUpdater;","map":{"version":3,"sources":["C:/Users/joha/Desktop/dcake1/DreamCakeFront/src/components/landingPage/headerUpdater.jsx"],"names":["React","Notifications","Register","Login","Cookies","logo","HeaderUpdater","Component","constructor","openModal","e","mod","document","getElementById","target","value","append","console","log","putData","setState","notification","state","userInfo","open","open1","componentDidMount","fetch","method","credentials","headers","then","response","json","responseJson","catch","error","registrarse","window","location","pathname","iniciarSesion","logOut","preventDefault","requestOptions","get","body","JSON","stringify","likes","like","res","reload","render","hasOwnProperty","props","notifications","campana","foto"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport \"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\nimport campana from \"../../static/images/campana.svg\"\r\nimport { Notifications } from \"./notifications/notifications\"\r\nimport { Register } from '../login/register';\r\nimport { Login } from '../login/login';\r\nimport Cookies from 'js-cookie';\r\nimport logo from '../../static/images/LOGOFINALBANNER.png';\r\n\r\nexport class HeaderUpdater extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            userInfo: null,\r\n            open: true,\r\n            open1: true,\r\n            notification: ''\r\n        }\r\n        //this.userInfo = null;\r\n    }\r\n\r\n    componentDidMount(e) {\r\n        \r\n\r\n        fetch('http://localhost:8000/users/api/auth/user/', {\r\n            method: 'GET',\r\n            credentials: 'include',\r\n            headers: {\r\n            },\r\n        }).then((response) => response.json())\r\n            .then(responseJson => {\r\n               this.setState({ userInfo: responseJson })\r\n            }).catch(error => console.error('Error:', error));\r\n    }\r\n\r\n    registrarse() {\r\n        window.location.pathname = \"/accounts/signup/\"\r\n    }\r\n\r\n    iniciarSesion() {\r\n        this.openModal();\r\n    }\r\n\r\n    openModal = (e) => {\r\n        let mod = document.getElementById(e.target.value);\r\n        mod.append(\"body\")\r\n        console.log(e.target.value);\r\n    };\r\n\r\n    putData = (e) => {\r\n        this.setState({ notification: e });\r\n    }\r\n    \r\n    logOut(e){\r\n        e.preventDefault();\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'X-CSRFToken':Cookies.get('csrftoken')\r\n            },\r\n            credentials: \"include\",\r\n            body: JSON.stringify({\r\n                likes:this.state.like+1\r\n            })\r\n        };\r\n        fetch('http://localhost:8000/users/api/auth/logout/', requestOptions)\r\n        .then(res => res.json())\r\n        .then(json =>{\r\n            window.location.pathname = \"/\"\r\n            window.location.reload()\r\n        })\r\n        \r\n    }\r\n    \r\n\r\n\r\n    render() {\r\n        // <Notification putData={this.putData}/> \r\n        //var user_name = this.state.userInfo.short_name;\r\n        console.log('isNull?' + this.state.userInfo == null);\r\n        if (this.state.userInfo == null || this.state.userInfo.hasOwnProperty('detail')) {\r\n            return (\r\n               <div>\r\n                    <nav class=\"navbar  navbar-dark jumbotron-header navbar-expand-md fixed-top justify-content-around \" >\r\n                        <a class = \"navbar-brand\" href = \"/\">\r\n                                    <img class=\"img-fluid rounded-circle header-logo\" src={logo} alt=\"logo DreamCake\"/>\r\n                        </a>\r\n\r\n                        <button className=\"navbar-toggler\" type =\"button\" data-toggle =\"collapse\" data-target =\"#navbarSupportedContend\" aria-controls=\"navbarNavDropdown\"  aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                            <spam className =\"navbar-toggler-icon\"/>\r\n                        </button>\r\n                                <div class = \"collapse navbar-collapse text-center\" id =\"navbarSupportedContend\">\r\n                                    <ul class =\"navbar-nav mr-auto \">\r\n                                    <li class =\" nav-item\"><a class=\"navbarText\" href =\"/\">Inicio</a></li>\r\n                                    <li class =\" nav-item\"><a class=\"navbarText\" href =\"/crearPastel/\">Crear Pastel</a></li>\r\n                                    </ul>\r\n\r\n                                    <button type=\"button\" className=\"btn-principal btn-pequeño align-self-end\" data-toggle=\"modal\" data-target=\"#login\" value=\"login\" data-backdrop=\"false\" y data-dismiss=\"modal\">Iniciar Sesión</button>\r\n                                    <button type=\"button\" className=\"btn-secundario  btn-pequeño\" data-toggle=\"modal\" data-target=\"#register\" value=\"register\" data-backdrop=\"false\" data-dismiss=\"modal\" >Registrarse</button>\r\n                                </div> \r\n        \r\n                      \r\n                        <Register />                       \r\n                        <Login />\r\n                    </nav>\r\n               </div>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                \r\n                   <div > \r\n                  \r\n                       {/*  <div className=\"col-lg-1 col-sm-2 col-2\">\r\n                            <img type=\"button\" className=\"menubtn img-fluid\" src={campana} alt=\"notificacion\" data-toggle=\"collapse\" data-target=\"#notification\" aria-expanded=\"false\" aria-controls=\"\" />\r\n                            <div className=\"collapse multi-collapse   badge pop-notification\" id=\"notification\">\r\n                                <Notifications  notifications = {this.props.notifications}></Notifications>\r\n                            </div>\r\n                        \r\n                        </div>\r\n                        <div className=\"col-lg-2 col-sm-4 col-4\">\r\n                            <img className=\"img-fluid rounded-circle\" src={this.state.userInfo.foto} />\r\n                        </div>\r\n                        <div className=\"menubtn\">\r\n                            <span className=\" btn badge btname-user\">{this.state.userInfo.email}</span>\r\n                            <select type=\"select\" className=\" arrow btn  badge \" id=\"perfil\" onClick={e=>this.menuSelect(e)}>\r\n                                <option select  className=\"btn-dark\" value=\"\"></option>\r\n                                <option className=\"btn btn-dark\" value=\"Inicio\">Inicio</option>\r\n                                <option className=\"btn btn-dark\" value=\"Pastel\">Crear Pastel</option>\r\n                                <option className=\"btn btn-dark\" value=\"Social\">Social</option>\r\n                                <option className=\"btn btn-dark\" value=\"Perfil\">Perfil</option>\r\n                                <option className=\"btn btn-dark\" value=\"Salir\" >Salir</option>\r\n                            </select>\r\n                        </div> */}\r\n\r\n\r\n\r\n\r\n                        <nav class=\"navbar navbar-dark  jumbotron-header navbar-expand-md fixed-top justify-content-around  \" >\r\n                        \r\n                            <a class = \"navbar-brand\" href = \"/\">\r\n                                <img class=\"img-fluid rounded-circle header-logo\" src={logo} alt=\"one piece\"/>\r\n                            </a>\r\n                                   \r\n                                <button class =\"navbar-toggler\" type =\"button\" data-toggle =\"collapse\" data-target =\"#navbarSupportedContend\" aria-controls=\"navbarNavDropdown\"  aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                                    <spam class =\"navbar-toggler-icon\"/>\r\n                                </button>\r\n                                <div class = \"collapse navbar-collapse text-center  \" id =\"navbarSupportedContend\">\r\n                                        <ul class =\"navbar-nav mr-auto \">\r\n                                        <li class =\" nav-item\"><a class=\"navbarText\" href =\"/\">Inicio</a></li>\r\n                                        <li class =\" nav-item\"><a class=\"navbarText\" href =\"/crearPastel/\">Crear Pastel</a></li>\r\n                                        <li class =\" nav-item\"><a class=\"navbarText\" href =\"/social\">Posts</a></li>\r\n                                        <li class =\" nav-item\"><a class=\"navbarText\" href =\"/profile\">Perfil</a></li>\r\n                                        <li class =\" nav-item\"><a class=\"navbarText\" href=\"#\" onClick ={e=>this.logOut(e)}>Salir</a></li>\r\n                                        \r\n                                        \r\n                                        </ul>\r\n\r\n                                        {/* barra notificaciones*/}\r\n                                        <div className=\"collapse multi-collapse  fade pop-notification\" id=\"notification\">\r\n                                            <Notifications  notifications = {this.props.notifications}></Notifications>\r\n                                        </div>\r\n\r\n                                        <img type=\"button\" className=\"campana-icon img-fluid rounded-circle\" src={campana} alt=\"notificacion\" data-toggle=\"collapse\" data-target=\"#notification\" aria-expanded=\"false\" aria-controls=\"\" />\r\n                                        <a href =\"/profile\">\r\n                                            <img className=\" rounded-circle header-profile\" src={this.state.userInfo.foto} />\r\n                                        </a>\r\n                                           \r\n                                </div> \r\n                               \r\n                             \r\n                        </nav>\r\n\r\n                    </div>\r\n                    \r\n        \r\n            );\r\n        }\r\n    }\r\n}\r\nexport default HeaderUpdater;"]},"metadata":{},"sourceType":"module"}