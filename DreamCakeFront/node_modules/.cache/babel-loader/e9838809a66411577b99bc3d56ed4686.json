{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joha\\\\Desktop\\\\dcake1\\\\DreamCakeFront\\\\src\\\\components\\\\Moderacion\\\\comments.jsx\";\nimport './styles.scss';\nimport React from 'react';\nimport Cookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class CommentsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comments: []\n    };\n  }\n\n  componentDidMount() {\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': Cookies.get('csrftoken')\n      },\n      credentials: \"include\"\n    };\n    fetch('http://localhost:8000/social/all_coms/' + this.props.id + \"/\", requestOptions).then(response => response.json()).then(json => this.setState({\n      comments: json\n    })).catch(error => console.log(error));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.comments.map(comment => /*#__PURE__*/_jsxDEV(Comment, {\n        comment: comment\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 54\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport class Comment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      status: !this.props.comment.status,\n      open: this.props.comment.status,\n      open1: !this.props.comment.status\n    };\n  }\n\n  modFunction() {\n    const requestOptions = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': Cookies.get('csrftoken')\n      },\n      credentials: \"include\",\n      body: JSON.stringify(this.state)\n    };\n    fetch('http://localhost:8000/social/mod_com/' + this.props.comment.id + '/', requestOptions).then(response => response.json()).then(json => this.setState({\n      status: !this.state.status,\n      open: !this.state.open,\n      open1: !this.state.open1\n    })).catch(error => console.log(error));\n  }\n\n  render() {\n    const {\n      open,\n      open1\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-2 col-sm-2 col-2\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"img-perfil\",\n          src: \"http://localhost:8000/media/postImages/321_jbjNKPP.png\",\n          alt: \"perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-6 col-sm-6 col-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"badge badge-light item-comments text-wrap \",\n          children: [this.props.comment.comentario, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 39\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"fecha\",\n              children: this.props.comment.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }, this), open && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-3 col-sm-3 col-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn-report\",\n          onClick: () => {\n            this.modFunction();\n          },\n          children: \" Borrar   \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 26\n      }, this), open1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-3 col-sm-3 col-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn-report\",\n          onClick: () => {\n            this.modFunction();\n          },\n          children: \" Mostrar   \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/joha/Desktop/dcake1/DreamCakeFront/src/components/Moderacion/comments.jsx"],"names":["React","Cookies","CommentsList","Component","constructor","props","state","comments","componentDidMount","requestOptions","method","headers","get","credentials","fetch","id","then","response","json","setState","catch","error","console","log","render","map","comment","Comment","status","open","open1","modFunction","body","JSON","stringify","comentario","date"],"mappings":"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","sourcesContent":["import './styles.scss';\r\nimport React from 'react';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport class CommentsList extends React.Component {\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcomments: [],\r\n\t\t};\r\n\r\n\t}\r\n\r\n    componentDidMount(){\r\n        \r\n\t\tconst requestOptions = {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t  'Content-Type': 'application/json',\r\n\t\t\t  'X-CSRFToken': Cookies.get('csrftoken')\r\n\t\t\t},\r\n\t\t\tcredentials: \"include\",\r\n\t\t  };\r\n\t\t  fetch('http://localhost:8000/social/all_coms/'+ this.props.id + \"/\", requestOptions)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(json => this.setState({\r\n\t\t\t  comments: json\r\n\t\t\t}))\r\n\t\t\t.catch(error => console.log(error));\r\n    }\r\n    render() {\r\n        return (\r\n            <div>{this.state.comments.map(comment => <Comment comment={comment}></Comment>)}</div>       \r\n        )   \r\n    }\r\n}\r\n\r\nexport class Comment extends React.Component {\r\n    constructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n            status: !this.props.comment.status,\r\n            open: this.props.comment.status,\r\n            open1: !this.props.comment.status\r\n\t\t}\r\n\t}\r\n\r\n    modFunction() {\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'X-CSRFToken': Cookies.get('csrftoken')\r\n            },\r\n            credentials: \"include\",\r\n            body:JSON.stringify(this.state)\r\n          };\r\n          fetch('http://localhost:8000/social/mod_com/' + this.props.comment.id + '/', requestOptions)\r\n            .then(response => response.json())\r\n            .then(json => this.setState({\r\n              status: !this.state.status,\r\n              open: !this.state.open,\r\n              open1: !this.state.open1\r\n            }))\r\n            .catch(error => console.log(error));\r\n    };\r\n\r\n\trender(){\r\n        const {open, open1} = this.state;\r\n\t\treturn  (\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-lg-2 col-sm-2 col-2\">\r\n\t\t\t\t\t<img className=\"img-perfil\" src=\"http://localhost:8000/media/postImages/321_jbjNKPP.png\" alt=\"perfil\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className= \"col-lg-6 col-sm-6 col-6\">\r\n                    <div className=\"badge badge-light item-comments text-wrap \">\r\n\t\t\t\t\t\t{this.props.comment.comentario} <br />\r\n\t\t\t\t\t<div><p className=\"fecha\">{this.props.comment.date}</p></div>\r\n                    </div>\r\n\t\t\t\t</div>\r\n                {open && <div className= \"col-lg-3 col-sm-3 col-3\">\r\n                    <button class=\"btn-report\" onClick={() => {this.modFunction()}}> Borrar   </button>\r\n                </div>}\r\n                {open1 && <div className= \"col-lg-3 col-sm-3 col-3\">\r\n                    <button class=\"btn-report\" onClick={() => {this.modFunction()}}> Mostrar   </button>\r\n                </div>}\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}