{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joha\\\\Desktop\\\\dcake1\\\\DreamCakeFront\\\\src\\\\components\\\\login\\\\register.jsx\";\nimport React from \"react\";\nimport GoogleLogin from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport logo from \"../../static/images/logo.svg\";\nimport { Login } from \"./login\";\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.login = async () => {\n      console.log(this.state);\n      let response = await fetch('http://localhost:8000/users/api/auth/login/', {\n        method: 'POST',\n        credentials: \"include\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: this.state.email,\n          password: this.state.password\n        })\n      });\n\n      if (response.statusText === 'OK') {\n        let json = await response.json();\n        console.log(json);\n        swal({\n          icon: \"succes\",\n          text: 'Credenciales incorrectas'\n        });\n        window.location.pathname = \"/profile\";\n      } else {\n        let js = await response.json();\n\n        if (response.status === 400) {\n          console.log(\"credenciales incorrectas\");\n          swal({\n            icon: \"error\",\n            text: 'Datos incorrectos'\n          });\n        } else if (response.status === 403) {\n          console.log(\"sesion ya iniciada \" + JSON.stringify(js));\n        } else {\n          console.log(\"otro error: \" + JSON.stringify(js) + JSON.stringify(response));\n        }\n      }\n    };\n\n    this.state = {};\n    this.onInputchange = this.onInputchange.bind(this);\n    this.onSubmitForm = this.onSubmitForm.bind(this);\n  }\n\n  onInputchange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onSubmitForm(event) {\n    event.preventDefault();\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: \"include\",\n      body: JSON.stringify(this.state)\n    };\n    fetch('http://localhost:8000/users/api/auth/registration/', requestOptions).then(res => {\n      return res.json();\n    }).then(json => {\n      this.login();\n    }).catch(error => console.log(error));\n  }\n\n  render() {\n    const responseGoogle = response => {\n      console.log(response);\n      console.log(response.profileObj);\n    };\n\n    const responseFacebook = response => {\n      console.log(response);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal fade\",\n        id: \"register\",\n        \"aria-hidden\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content\",\n            role: \"document\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body \",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal-header row justify-content-center\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: logo,\n                  className: \" row img-logo col-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"badge badge-light\",\n                  htmlFor: \"email\",\n                  children: \"Correo:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  placeholder: \"email\",\n                  value: this.state.email,\n                  onChange: this.onInputchange,\n                  name: \"email\",\n                  id: \"email\",\n                  type: \"email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"badge badge-light\",\n                  htmlFor: \"password1\",\n                  children: \"Contrase\\xF1a:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control \",\n                  placeholder: \"Contrase\\xF1a\",\n                  value: this.state.password,\n                  onChange: this.onInputchange,\n                  name: \"password\",\n                  id: \"password1\",\n                  type: \"password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"badge badge-light\",\n                  htmlFor: \"password2\",\n                  children: \"Contrase\\xF1a:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  placeholder: \"Confirmar contrase\\xF1a\",\n                  value: this.state.password2,\n                  onChange: this.onInputchange,\n                  name: \"password2\",\n                  id: \"password2\",\n                  type: \"password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"form-control btn btn-info\",\n                  onClick: this.onSubmitForm,\n                  children: \"Registrarse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"btn col-12\",\n                  children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n                    clientId: \"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com\",\n                    buttonText: \"Iniciar con Google\",\n                    onSuccess: responseGoogle,\n                    onFailure: responseGoogle,\n                    cookiePolicy: 'single_host_origin'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"btn col-12  \",\n                  children: /*#__PURE__*/_jsxDEV(FacebookLogin, {\n                    appId: \"942968703190705\",\n                    autoLoad: false,\n                    icon: \"fa-facebook\",\n                    callback: responseFacebook,\n                    render: renderProps => /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btng\",\n                      onClick: renderProps.onClick,\n                      children: \"Facebook\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-footer justify-content-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btng\",\n                    id: \"btnModal\",\n                    \"data-dismiss\": \"modal\",\n                    children: \"Cancelar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n        src: \"node_modules/jquery/dist/jquery.slim.min.js\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n        src: \"node_modules/popper.js/dist/umd/popper.min.js\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n        src: \"node_modules/bootstrap/dist/js/bootstrap.min.js\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/joha/Desktop/dcake1/DreamCakeFront/src/components/login/register.jsx"],"names":["React","GoogleLogin","FacebookLogin","Login","swal","Register","Component","constructor","props","login","console","log","state","response","fetch","method","credentials","headers","body","JSON","stringify","email","password","statusText","json","icon","text","window","location","pathname","js","status","onInputchange","bind","onSubmitForm","e","setState","target","name","value","event","preventDefault","requestOptions","then","res","catch","error","render","responseGoogle","profileObj","responseFacebook","logo","password2","renderProps","onClick"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport GoogleLogin from 'react-google-login';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props'\r\nimport logo from '../../static/images/logo.svg';\r\nimport { Login } from \"./login\";\r\nimport swal from 'sweetalert';\r\n\r\nexport class Register extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.onInputchange = this.onInputchange.bind(this);\r\n        this.onSubmitForm = this.onSubmitForm.bind(this);\r\n    }\r\n\r\n    onInputchange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n\r\n        })\r\n    }\r\n\r\n    onSubmitForm(event) {\r\n        event.preventDefault()\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            credentials: \"include\",\r\n            body: JSON.stringify(this.state)\r\n        };\r\n\r\n        fetch('http://localhost:8000/users/api/auth/registration/', requestOptions)\r\n            .then(res => {\r\n                return res.json()\r\n            })\r\n            .then(json => {\r\n                this.login()\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n\r\n    login = async () => {\r\n        console.log(this.state)\r\n        let response = await fetch('http://localhost:8000/users/api/auth/login/', {\r\n            method: 'POST',\r\n            credentials: \"include\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                email: this.state.email,\r\n                password: this.state.password\r\n            })\r\n        })\r\n\r\n        if (response.statusText === 'OK') {\r\n            let json = await response.json();\r\n            console.log(json);\r\n            swal({icon:\"succes\",\r\n            text:'Credenciales incorrectas'});\r\n            window.location.pathname = \"/profile\";\r\n        }\r\n        else {\r\n            let js = await response.json()\r\n            if (response.status === 400) {\r\n                console.log(\"credenciales incorrectas\")\r\n                swal({icon:\"error\",\r\n                text:'Datos incorrectos'});\r\n            } else if (response.status === 403) {\r\n                console.log(\"sesion ya iniciada \" + JSON.stringify(js))\r\n            } else {\r\n                console.log(\"otro error: \" + JSON.stringify(js) + JSON.stringify(response))\r\n            }\r\n        }\r\n\r\n        \r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        const responseGoogle = (response) => {\r\n            console.log(response);\r\n            console.log(response.profileObj);\r\n        }\r\n        const responseFacebook = (response) => {\r\n            console.log(response);\r\n        }\r\n\r\n\r\n        return (\r\n            <div>\r\n\r\n                <div className=\"modal fade\" id=\"register\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog\" >\r\n                        <div className=\"modal-content\" role=\"document\">\r\n                            <div className=\"modal-body \">\r\n                                <div className=\"modal-header row justify-content-center\">\r\n                                    <img src={logo} className=\" row img-logo col-3\" />\r\n\r\n                                </div>\r\n                                <div className=\"form\">\r\n                                    {/* <input placeholder= \"Nombre\" value={this.state.name} onChange={this.onChange.bind(this)} name=\"name\" id=\"name\" type=\"text\" /> */}\r\n                                    <label className=\"badge badge-light\" htmlFor=\"email\">Correo:</label>\r\n                                    <input className=\"form-control\" placeholder=\"email\" value={this.state.email} onChange={this.onInputchange} name=\"email\" id=\"email\" type=\"email\" />\r\n                                    {/* <input placeholder= \"Usuario\" value={this.state.username} onChange={this.onChange.bind(this)} name=\"username\" id=\"username\" type=\"text\" /> */}\r\n                                    <label className=\"badge badge-light\" htmlFor=\"password1\">Contraseña:</label>\r\n                                    <input className=\"form-control \" placeholder=\"Contraseña\" value={this.state.password} onChange={this.onInputchange} name=\"password\" id=\"password1\" type=\"password\" />\r\n                                    <label className=\"badge badge-light\" htmlFor=\"password2\">Contraseña:</label>\r\n                                    <input className=\"form-control\" placeholder=\"Confirmar contraseña\" value={this.state.password2} onChange={this.onInputchange} name=\"password2\" id=\"password2\" type=\"password\" />\r\n                                    <br />\r\n                                    {/*<p>{JSON.stringify(this.state)}</p>*/}\r\n                                    <button className=\"form-control btn btn-info\" onClick={this.onSubmitForm}>Registrarse</button>\r\n                                    {/* <spam>{this.state.message}</spam> */}\r\n                                    <br />\r\n                                    <div className=\"btn col-12\">\r\n                                        <GoogleLogin\r\n                                            clientId=\"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com\"\r\n                                            buttonText=\"Iniciar con Google\"\r\n                                            onSuccess={responseGoogle}\r\n                                            onFailure={responseGoogle}\r\n                                            cookiePolicy={'single_host_origin'}\r\n                                        />\r\n                                    </div>\r\n                                    <br />\r\n                                    <div className=\"btn col-12  \">\r\n                                        <FacebookLogin\r\n                                            appId=\"942968703190705\"\r\n                                            autoLoad={false}\r\n                                            icon=\"fa-facebook\"\r\n                                            callback={responseFacebook}\r\n\r\n                                            render={renderProps => (\r\n                                                <button className=\"btng\" onClick={renderProps.onClick}>Facebook</button>\r\n                                            )} />\r\n                                    </div>\r\n\r\n\r\n                                    <div className=\"modal-footer justify-content-center\">\r\n                                        <button type=\"button\" className=\"btng\" id=\"btnModal\" data-dismiss=\"modal\">Cancelar</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <script src=\"node_modules/jquery/dist/jquery.slim.min.js\"></script>\r\n                <script src=\"node_modules/popper.js/dist/umd/popper.min.js\"></script>\r\n                <script src=\"node_modules/bootstrap/dist/js/bootstrap.min.js\"></script>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}