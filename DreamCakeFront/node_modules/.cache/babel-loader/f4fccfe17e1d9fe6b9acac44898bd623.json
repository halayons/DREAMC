{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joha\\\\Desktop\\\\dcake1\\\\DreamCakeFront\\\\src\\\\components\\\\administracion\\\\banner\\\\createBanner.jsx\";\nimport React from 'react';\nimport Cookies from 'js-cookie';\nimport '../style.scss';\nimport \"../../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class CreateBanner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: '',\n      imagePreviewUrl: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleImageChange = this.handleImageChange.bind(this);\n  }\n\n  handleChange(event) {\n    let name = event.target.name;\n    console.log(name);\n    if (name == \"titulo\") this.setState({\n      title: event.target.value\n    });\n    if (name == \"texto\") this.setState({\n      text: event.target.value\n    });\n    if (name == \"abstract\") this.setState({\n      abstract: event.target.value\n    });\n    if (name == \"status\") this.setState({\n      status: event.target.value\n    });\n  }\n\n  handleImageChange(e) {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      this.setState({\n        file: file,\n        imagePreviewUrl: reader.result\n      });\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  crearBanner(e) {\n    console.log(this.state);\n    let form_data = new FormData();\n    form_data.append('title', this.state.title);\n    form_data.append('text', this.state.text);\n    form_data.append('abstract', this.state.abstract);\n    form_data.append('status', this.state.status);\n    form_data.append('image', this.state.file);\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'X-CSRFToken': Cookies.get('csrftoken')\n      },\n      credentials: \"include\",\n      body: form_data\n    };\n    fetch('http://localhost:8000/banner/create/', requestOptions).then(res => res.json()).then(json => {// this.props.update()\n    }).catch(error => console.log(error));\n  }\n\n  handleSubmit(event) {\n    this.crearBanner(event);\n    event.preventDefault();\n  }\n\n  render() {\n    if (!this.props.open) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"btn-secundario btn-mini\",\n            for: \"file\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Imagen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 61\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            className: \"col-sm \",\n            id: \"file\",\n            onChange: this.handleImageChange,\n            accept: \"image/*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          className: \"col-sm \",\n          id: \"file\",\n          onChange: this.handleImageChange,\n          accept: \"image/*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"titulo\",\n          type: \"text\",\n          placeholder: \"Titulo\",\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"texto\",\n          type: \"text\",\n          placeholder: \"Texto\",\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"abstract\",\n          type: \"text\",\n          placeholder: \"Abstract\",\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"estado\",\n          children: \"Estado activo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"estado\",\n          name: \"status\",\n          type: \"checkbox\",\n          placeholder: \"status\",\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-principal btn-mediano\",\n            type: \"submit\",\n            value: \"Crear\",\n            children: \"Crear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-secundario btn-mini\",\n        onClick: this.props.onClose,\n        children: \"Salir\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 4\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/joha/Desktop/dcake1/DreamCakeFront/src/components/administracion/banner/createBanner.jsx"],"names":["React","Cookies","CreateBanner","Component","constructor","props","state","file","imagePreviewUrl","handleChange","bind","handleSubmit","handleImageChange","event","name","target","console","log","setState","title","value","text","abstract","status","e","preventDefault","reader","FileReader","files","onloadend","result","readAsDataURL","crearBanner","form_data","FormData","append","requestOptions","method","headers","get","credentials","body","fetch","then","res","json","catch","error","render","open","onClose"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport '../style.scss';\r\nimport \"../../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nexport class CreateBanner extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tfile: '',\r\n\t\t\timagePreviewUrl: '',\r\n\t\t}\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.handleImageChange = this.handleImageChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tlet name = event.target.name\r\n\t\tconsole.log(name)\r\n\r\n\t\tif (name == \"titulo\") this.setState({ title: event.target.value })\r\n\t\tif (name == \"texto\") this.setState({ text: event.target.value })\r\n\t\tif (name == \"abstract\") this.setState({ abstract: event.target.value })\r\n\t\tif (name == \"status\") this.setState({ status: event.target.value })\r\n\t}\r\n\r\n\thandleImageChange(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet reader = new FileReader();\r\n\t\tlet file = e.target.files[0];\r\n\r\n\t\treader.onloadend = () => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tfile: file,\r\n\t\t\t\timagePreviewUrl: reader.result,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treader.readAsDataURL(file)\r\n\t}\r\n\r\n\r\n\tcrearBanner(e) {\r\n\t\tconsole.log(this.state)\r\n\t\tlet form_data = new FormData()\r\n\t\tform_data.append('title', this.state.title)\r\n\t\tform_data.append('text', this.state.text)\r\n\t\tform_data.append('abstract', this.state.abstract)\r\n\t\tform_data.append('status', this.state.status)\r\n\t\tform_data.append('image', this.state.file)\r\n\r\n\t\tconst requestOptions = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'X-CSRFToken': Cookies.get('csrftoken')\r\n\t\t\t},\r\n\t\t\tcredentials: \"include\",\r\n\t\t\tbody: form_data\r\n\t\t};\r\n\r\n\t\tfetch('http://localhost:8000/banner/create/', requestOptions)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(json => {\r\n\t\t\t\t// this.props.update()\r\n\t\t\t})\r\n\t\t\t.catch(error => console.log(error))\r\n\r\n\t}\r\n\r\n\r\n\thandleSubmit(event) {\r\n\t\tthis.crearBanner(event);\r\n\t\tevent.preventDefault();\r\n\t}\r\n\r\n\r\n\r\n\trender() {\r\n\r\n\t\tif (!this.props.open) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<form onSubmit={this.handleSubmit} className=\"container\">\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label className=\"btn-secundario btn-mini\" for=\"file\"><span>Imagen</span></label>\r\n\t\t\t\t\t\t<input type=\"file\" className=\"col-sm \" id=\"file\" onChange={this.handleImageChange} accept=\"image/*\"></input>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<input type=\"file\" className=\"col-sm \" id=\"file\" onChange={this.handleImageChange} accept=\"image/*\"></input>\r\n\t\t\t\t\t<input name=\"titulo\" type=\"text\" placeholder=\"Titulo\" onChange={this.handleChange} ></input>\r\n\t\t\t\t\t<input name=\"texto\" type=\"text\" placeholder=\"Texto\" onChange={this.handleChange}></input>\r\n\t\t\t\t\t<input name=\"abstract\" type=\"text\" placeholder=\"Abstract\" onChange={this.handleChange}></input>\r\n\t\t\t\t\r\n\t\t\t\t\t\t<label for=\"estado\">Estado activo</label>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<input id=\"estado\" name=\"status\" type=\"checkbox\" placeholder=\"status\" onChange={this.handleChange}></input>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t<button className=\"btn-principal btn-mediano\" type=\"submit\" value=\"Crear\">Crear</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t\t<button className=\"btn-secundario btn-mini\" onClick={this.props.onClose}>Salir</button>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}